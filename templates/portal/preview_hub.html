{% extends "base.html" %}

{% block title %}Previzualizare documente | OCR Workspace{% endblock %}

{% block content %}
<section class="page-header">
    <div class="page-header__text">
        <h1>Previzualizare documente</h1>
        <p>Alege un document procesat pentru a-l deschide instant în browser sau pentru a-l descărca.</p>
    </div>
</section>

<section class="surface-card">
    {% if documents %}
        <div class="document-list" style="display:grid; gap: var(--space-4);">
            {% for document in documents %}
                <div class="job-card job-card--static">
                    <div class="job-card__meta">
                        <h3>{{ document.title }}</h3>
                        <p>Folder: {{ document.folder.name }}</p>
                        <p>Actualizat {{ document.updated_at|date:"d.m.Y H:i" }}</p>
                    </div>
                    <div class="job-actions" aria-label="Acțiuni document">
                        <a href="{% url 'portal:preview' document.id %}" class="btn btn--primary">Previzualizează</a>
                        {% if document.processed_file %}
                            <a href="{% url 'portal:download_document' document.id %}" class="btn btn--ghost">Descarcă PDF</a>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p class="muted">Nu există documente disponibile pentru previzualizare. Procesează un fișier și salvează-l într-o bibliotecă.</p>
    {% endif %}
</section>
{% endblock %}
